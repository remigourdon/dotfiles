{{- if contains "home" .chezmoi.hostname }}
[user]
    name = {{ .name }}
    email = {{ .email }}
{{- else }}
[user]
    name = {{ .work.name }}
    email = {{ .work.email }}
{{- end }}
[core]
    pager = delta
    excludesfile = /home/remi/.gitignore_global
[interactive]
    diffFilter = delta --color-only
[filter "nbstripout"]
    clean = '/usr/bin/python3' -m nbstripout
    smudge = cat
[diff "ipynb"]
    textconv = '/usr/bin/python3' -m nbstripout -t
[fetch]
    prune = true
[pull]
    ff = only
[credential]
    helper = cache --timeout=3600
[alias]
    # Utils
    main-branch = !basename $(git symbolic-ref refs/remotes/origin/HEAD)

    # Basics
    s = status
    l = log --all --decorate --oneline --graph
    d = diff
    a = add
    aa = add .
    ap = add --patch
    b = branch
    c = commit
    cm = commit -m
    ca = commit --amend
    ri = rebase --interactive

    # Fuzzy
    bd = !git branch | grep -v '^\\*' | cut -c 3- | grep -v $(git main-branch) | fzf -0 -m --preview='git log --color=always {} --' | xargs --no-run-if-empty git branch -D
    ch = !git branch --all | grep -Ev '(^\\*|HEAD)' | cut -c 3- | fzf -0 +m --preview='git log --color=always {} --' | sed "s#remotes/[^/]*/##" | xargs --no-run-if-empty git checkout
